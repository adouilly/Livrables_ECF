/* ========================================
   SECTION GALLERY - VINTAGE BARBER SHOP
   Design rétro avec affichage central et contrôles
   ======================================== */

/* Import des variables */
@import url('../common/variables.css');

/* ========================================
   SECTION GALLERY PRINCIPALE
   ======================================== */

.gallery {
    width: 100%;
    background-color: var(--color-white);
    padding: 0;
}

/* ========================================
   TITRE PRINCIPAL GALLERY
   ======================================== */

.gallery__title-container {
    width: 100%;
    background-color: var(--color-secondary);
    padding: 40px 0; /* Harmonisé avec la section contact */
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.gallery__title {
    font-family: var(--font-principal);
    font-size: 2.5rem;
    font-weight: var(--font-weight-bold);
    color: var(--color-black); /* Couleur noire */
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-align: center;
    text-shadow: 2px 2px 4px var(--color-primary); /* Ombre jaune */
}

/* ========================================
   CONTENEUR PRINCIPAL GALLERY
   Background jaune sur toute la largeur
   ======================================== */

.gallery__container {
    width: 100vw; /* Force 100% viewport width */
    margin: 0;
    padding: 30px 20px 40px 20px; /* Harmonisé avec la section contact */
    background-color: var(--color-primary);
    border-radius: var(--border-radius-top-right); /* Border radius uniquement coin haut droite */
    box-shadow: var(--box-shadow-normal); /* Ombre pour faire ressortir le bloc */
    display: flex;
    justify-content: center;
    align-items: flex-start;
    position: relative;
    left: 50%;
    transform: translateX(-50%); /* Centre par rapport au viewport */
}

/* Conteneur interne pour centrer le contenu */
.gallery__inner {
    max-width: 800px;
    width: calc(100% - 60px); /* 100% moins padding horizontal */
    padding: 0 30px;
}

/* ========================================
   BLOC SUPÉRIEUR - AFFICHAGE IMAGE
   ======================================== */

.gallery__display {
    position: relative; /* Pour permettre le positionnement absolu de l'image décorative */
    width: 100%;
    margin-bottom: 30px;
}

.gallery__image-container {
    position: relative;
    width: 100%;
    max-width: 1000px;
    height: 600px; /* Visionneuse plus grande */
    border: 5px solid var(--color-secondary); /* Contour bleu de 5px */
    border-radius: 18px;
    overflow: hidden;
    background-color: var(--color-black);
    box-shadow: 0 12px 32px rgba(0, 0, 0, 0.18);
    margin: 0 auto;
    transition: height 0.3s, max-width 0.3s;
    z-index: 15; /* Visionneuse au premier plan */
}

.gallery__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transition: opacity 0.5s ease-in-out;
    border-radius: 18px;
}

/* Overlay pour animation fondu au noir */
.gallery__fade-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--color-black);
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
    pointer-events: none;
    z-index: 1;
}

/* État pendant transition */
.gallery__image-container.fading .gallery__fade-overlay {
    opacity: 1;
}

/* ========================================
   IMAGE DÉCORATIVE FRONTSTORE
   Positionnée en dehors du flux, au premier plan
   ======================================== */

.gallery__frontstore-decoration {
    position: absolute;
    top: 50%;
    left: calc(-30% - 90px); /* Décalé encore plus à gauche de 90px */
    transform: translateY(-50%); /* Centré verticalement seulement */
    z-index: 5; /* Juste derrière la visionneuse */
    pointer-events: none; /* Ne bloque pas les interactions */
}

.gallery__frontstore-image {
    max-width: 80%; /* Taille doublée : 40% → 80% */
    max-height: 100%; /* Taille doublée : 50% → 100% */
    width: auto;
    height: auto;
    opacity: 0.8; /* Légère transparence pour ne pas gêner */
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
}

/* ========================================
   BLOC INFÉRIEUR - CONTRÔLES NAVIGATION
   ======================================== */

.gallery__controls {
    width: 100%;
}

.gallery__controls-container {
    position: relative;
    width: 100%;
    height: 100px; /* Hauteur pour les boutons */
    border: 3px solid var(--color-tertiary); /* Contour englobant bleu */
    border-radius: 50px;
    padding: 25px; /* Padding 25px entre boutons et contour */
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: transparent;
}

/* ========================================
   BOUTONS NAVIGATION
   ======================================== */

.gallery__btn {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background-color: var(--color-primary); /* Background jaune (inversé du bouton retour) */
    border: 2px solid var(--color-tertiary); /* Contour bleu */
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    box-shadow: var(--box-shadow-normal);
}

/* Effet hover */
.gallery__btn:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
}

/* État disabled */
.gallery__btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

/* ========================================
   FLÈCHES DES BOUTONS
   ======================================== */

.gallery__btn-arrow {
    width: 0;
    height: 0;
    position: relative;
}

/* Flèche gauche */
.gallery__btn-arrow--left {
    border-top: 8px solid transparent;
    border-bottom: 8px solid transparent;
    border-right: 12px solid var(--color-tertiary); /* Pointe bleue */
}

/* Flèche droite */
.gallery__btn-arrow--right {
    border-top: 8px solid transparent;
    border-bottom: 8px solid transparent;
    border-left: 12px solid var(--color-tertiary); /* Pointe bleue */
}

/* ========================================
   RESPONSIVE - MOBILE FIRST APPROACH
   Breakpoints: 360px, 768px, 1200px+
   ======================================== */

/* MOBILE UNIQUEMENT (jusqu'à 767px) */
@media (max-width: 767px) {
    /* Titre mobile */
    .gallery__title {
        font-size: 1.4rem; /* Taille corrigée pour mobile */
    }
    
    /* Container mobile - suppression marge titre */
    .gallery__title-container {
        margin-bottom: 0; /* Suppression marge mobile */
    }
    
    /* Container mobile - garde 100% largeur */
    .gallery__container {
        padding: 20px 0; /* Padding vertical réduit */
    }
    
    /* Contenu interne mobile - avec paddings latéraux */
    .gallery__inner {
        width: 100%; /* Largeur complète */
        padding: 0 15px; /* Padding latéral pour éviter de coller aux bords */
        max-width: none; /* Suppression limite largeur sur mobile */
        display: flex;
        flex-direction: column;
        align-items: center; /* Centre les éléments horizontalement */
    }
    
    /* Image mobile centrée */
    .gallery__image-container {
        height: 180px;
        max-width: 98vw;
    }
    
    /* Contrôles mobile centrés */
    .gallery__controls-container {
        height: 80px;
        width: 100%; /* Prend toute la largeur disponible */
        padding: 20px; /* Padding uniforme */
        display: flex;
        align-items: center; /* Centre verticalement */
        justify-content: space-between; /* Boutons gauche et droite */
        margin: 0 auto; /* Centre le conteneur lui-même */
    }
    
    .gallery__btn {
        width: 45px;
        height: 45px;
    }
    
    .gallery__btn-arrow--left {
        border-right: 10px solid var(--color-tertiary);
        border-top: 6px solid transparent;
        border-bottom: 6px solid transparent;
    }
    
    .gallery__btn-arrow--right {
        border-left: 10px solid var(--color-tertiary);
        border-top: 6px solid transparent;
        border-bottom: 6px solid transparent;
    }
    
    /* Image décorative masquée sur mobile */
    .gallery__frontstore-decoration {
        display: none;
    }
}

/* TABLETTE (768px à 1199px) */
@media (min-width: 768px) and (max-width: 1199px) {
    .gallery__title {
        font-size: 1.4rem;
    }
    
    .gallery__image-container {
        height: 400px;
        max-width: 1100px;
        aspect-ratio: 16/9;
    }
    
    /* Image décorative masquée sur tablette */
    .gallery__frontstore-decoration {
        display: none;
    }
    
    /* Styles pour l'image décorative (si elle était visible sur tablette) */
    .gallery__frontstore-image {
        max-width: 70%; /* Taille doublée pour tablette */
        max-height: 85%; /* Taille doublée pour tablette */
    }
}

/* DESKTOP (1200px+) */
@media (min-width: 1200px) {
    .gallery__title {
        font-size: 1.6rem;
    }
    
    .gallery__image-container {
        height: 600px;
        max-width: 1400px;
        aspect-ratio: 16/9;
    }
    
    .gallery__controls-container {
        height: 110px;
        padding: 30px;
    }
    
    .gallery__btn {
        width: 60px;
        height: 60px;
    }
    
    .gallery__btn-arrow--left {
        border-right: 14px solid var(--color-tertiary);
        border-top: 10px solid transparent;
        border-bottom: 10px solid transparent;
    }
    
    .gallery__btn-arrow--right {
        border-left: 14px solid var(--color-tertiary);
        border-top: 10px solid transparent;
        border-bottom: 10px solid transparent;
    }
    
    /* Image décorative visible et ajustée sur desktop */
    .gallery__frontstore-decoration {
        display: block;
        left: calc(-18% - 95px); /* Position ajustée pour les grands écrans + 95px vers la gauche */
    }
    
    .gallery__frontstore-image {
        max-width: 70%; /* Taille doublée : 35% → 70% */
        max-height: 90%; /* Taille doublée : 45% → 90% */
    }
}

/* ========================================
   ANIMATIONS ET TRANSITIONS
   ======================================== */

/* Animation d'apparition au scroll */
.gallery__container {
    animation: fadeInUp 0.8s ease-out;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Animation de fondu pour changement d'image */
@keyframes fadeToBlack {
    0% { opacity: 0; }
    50% { opacity: 1; }
    100% { opacity: 0; }
}

.gallery__fade-overlay.animating {
    animation: fadeToBlack 0.6s ease-in-out;
}

/* DESKTOP (1200px+) */
@media (min-width: 1200px) {
    .gallery__title {
        font-size: 2.2rem; /* Taille augmentée pour desktop */
    }
}
